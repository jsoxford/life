<html>
<head>
  <title>Life</title>
</head>
<body>
  <h1>Hello world</h1>
  <canvas id="world" width="500" height="500"></canvas>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    var width = 20, height = 20;

    var socket = io();
    var ctx = world.getContext('2d');
    ctx.scale(world.width/width,world.height/height);

    socket.on('state', function(data){
      for(var x = 0; x < width; x++){
        for(var y = 0; y < height; y++){
          ctx.fillStyle = data.world[x + (width*y)] ? '#fff' : '#000';
          ctx.fillRect(x,y,1,1);
        }
      }
    });

  </script>
</body>
</html>
